<!DOCTYPE html>
<html manifest="offline.appcache">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
    <title>drugs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
   
   
   <!-- Add this to your HEAD if you want to load the 
   apple-touch-icons from another dir than your sites' root -->

   <link rel="apple-touch-icon" href="genticons/apple-touch-icon-iphone-60x60.png">
   <link rel="apple-touch-icon" sizes="60x60" href="genticons/apple-touch-icon-ipad-76x76.png">
   <link rel="apple-touch-icon" sizes="114x114" href="genticons/apple-touch-icon-iphone-retina-120x120.png">
   <link rel="apple-touch-icon" sizes="144x144" href="genticons/apple-touch-icon-ipad-retina-152x152.png">
   
  
    <link rel="icon" type="image/ico" href="favicon.ico" />
    <link rel="apple-touch-icon" href="images/icons/icon.png" />
    <script type="text/javascript">

     

    </script>
	

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
   
	<link rel="stylesheet" href="css/infusion.css" media="screen" />
	<!--<link rel="stylesheet" href="css/infusionPrint.css" media="print"/>-->
	<link rel="stylesheet" type="text/css" href="http://cdn.jtsage.com/datebox/latest/jqm-datebox.min.css" />

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.12.0/jquery.validate.js"></script>
<script type="text/javascript" src="http://cdn.jtsage.com/datebox/latest/jqm-datebox.core.min.js"></script>
<script type="text/javascript" src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.calbox.min.js"></script>
 <script type="text/javascript" src="js/gentamicin.js"></script>
 <script type="text/javascript" src="js/gentprep.js"></script>

 
<HTML>
<HEAD>
<TITLE>C&amp;C DHB Neonatal Unit</TITLE>



</HEAD>
<body> 




<!-- Start of first page -->
<div data-role="page"data-theme="b"data-add-back-btn="true" data-back-btn-text = "Home" id="stepOne">

	<div data-role="header">
		<h1>Gentamicin</h1>
		<a href="#about" data-icon="info" data-transition="slidedown" class="ui-btn-right"
		        data-rel="dialog">About</a>
	</div><!-- /header -->

	<div data-role="content">	
		
		<form id="formInput" name="formInput" method="post"data-ajax="false">
			
			  <div class="ui-bar ui-bar-a" style="height:80px"class="errorProne"><div class="ui-field-contain">
			    <label for="weight">Weight (kg):</label>
			    <input name="weight" id="weight" min="0.3" max="6" placeholder="kg" value="" autocomplete="off" type="number"required>
		</div></div>
			
			<div class="ui-bar ui-bar-a" style="height:80px">
					<div class="ui-field-contain">
					    <fieldset data-role="controlgroup" data-type="horizontal">
					        <legend>Gestation at birth:</legend>
					        <label for="weeks">Weeks</label>
					        <select name="weeks" id="weeks" >
					            <option value="0">Weeks:</option>
								<option value="22">22 weeks</option>
					            <option value="23">23 weeks</option>
					            <option value="24">24 weeks</option>
								<option value="25">25 weeks</option>
					            <option value="26">26 weeks</option>
					            <option value="27">27 weeks</option>
								<option value="28">28 weeks</option>
					            <option value="29">29 weeks</option>
					            <option value="30">30 weeks</option>
								<option value="31">31 weeks</option>
					            <option value="32">32 weeks</option>
					            <option value="33">33 weeks</option>
					            <option value="34">34 weeks</option>
								<option value="35">35 weeks</option>
					            <option value="36">36 weeks</option>
								<option value="37">37 weeks</option>
					            <option value="38">38 weeks</option>
					            <option value="39">39 weeks</option>
					            <option value="40">40 weeks</option>
								<option value="41">41 weeks</option>
					            <option value="42">42 weeks</option>
					           
								
					        </select>
					        <label for="plusDays">Two</label>
					        <select name="plusDays" id="plusDays">
								 <option value="0">Days:</option>
					            <option value="0">0 days</option>
					            <option value="1">1 day</option>
					            <option value="2">2 days</option>
					            <option value="3">3 days</option>
					            <option value="4">4 days</option>
					            <option value="5">5 days</option>
								<option value="6">6 days</option>
					        </select>
					        
					    </fieldset>
				
			</div></div>
			  <div class="ui-bar ui-bar-a" style="height:80px"><div class="ui-field-contain"class="errorProne">
			    <label for="dob">DOB:</label>
			   <input type="text" id="dob" required autocomplete="off"
			   data-role="datebox" data-theme="a"  data-options='{"mode":"calbox","overrideDateFormat":"%d %b %Y","afterToday":false,"beforeToday":true,"maxDays": 1,"minDays":200 ,"enablePopup":true}'>
	</div></div>
			    
		
			
			
			
			

			<p></p>
			<div class="ui-grid-a">
				<div class="ui-block-a"><input type="reset" id="reset" name="reset"value="Reset" data-icon="back"data-theme="a"data-iconpos="right"/></div>
			
			    <div class="ui-block-b"><a data-role="button" onclick="stepOneSubmission();" data-theme="a">Submit</a></div>
		</div>
			
			
			
			
		</form>
					
		
				
					
	</div><!-- /content -->

	<div data-role="footer">
		<h4>CCDHB</h4>
	</div><!-- /footer -->
</div><!-- /page -->




<!-- Start of third page -->
<div data-role="page"data-theme="b"data-add-back-btn="true" data-back-btn-text = "Home" id="theReport">

	<div data-role="header">
		<a class ="noPrint" href="#stepOne" data-role="button" data-inline="true" data-icon="back" >Back</a><h1>Gentamicin</h1>
		<a class="noPrint" id="mono" href="" data-iconpos="notext"data-icon="info" target="_blank"class="ui-btn-right"
        data-rel="dialog"></a>
	</div><!-- /header -->

	<div data-role="content">	
		<div class="noScreen" id="stickyLabel">Afix Patient Identification Label Here</div>
		<div>
			<div class="ui-bar ui-bar-a" style="height:80px"><div class="ui-field-contain">
			    <label for="weight-rep">Weight:</label>
			    <input name="weight-rep" id="weight-rep" placeholder="kg" value="" type="text"readonly="readonly">
			</div></div>
			
			<div class="ui-bar ui-bar-a" style="height:80px"><div class="ui-field-contain">
			    <label for="ga-rep">GA at birth:</label>
			    <input name="ga-rep" id="ga-rep" placeholder="Gestation at birth" value=""readonly="readonly">
					
				</input>
			</div></div>
			   
			<div class="ui-bar ui-bar-a" style="height:80px"><div class="ui-field-contain">
			    <label for="dob-rep">DOB:</label>
			    <input name="dob-rep" id="dob-rep" placeholder="Date of Birth" value=""readonly="readonly">
					
					</input>
			</div></div>
			
			
			
			
			    
	
			<p></p>
		
			
			
			
			
		</div>
					
			<h3 class="noPrint">Report</h3>	
			
	<form class="ui-body ui-body-a ui-corner-all">
		<div class="ui-field-contain">
		        <label for="calcRep">Calculation:</label>
		        <textarea cols="40" rows="3" name="calcRep" id="calcRep"readonly="yes"></textarea>
		    </div>
		<div class="ui-field-contain">
		        <label for="doseRep">Dose:</label>
		        <textarea cols="40" rows="3" name="doseRep" id="doseRep"readonly="readonly"></textarea>
		    </div>
		<div class="ui-field-contain">
		        <label for="noteRep">Note:</label>
		        <textarea cols="40" rows="5" name="noteRep" id="noteRep"readonly="readonly"></textarea>
		    </div>
		<div class="noScreen"><div class="ui-field-contain" >
		        <label for="datePrep">Report Prepared:</label>
		        <textarea cols="40" rows="1" name="datePrep" id="datePrep"readonly="readonly"></textarea>
		    </div>
		<div class="ui-field-contain" class="noScreen">
		        <label for="dateExp">Report Expires:</label>
		        <textarea cols="40" rows="1" name="dateExp" id="dateExp"readonly="readonly"></textarea>
		    </div></div>
	</form>	
	
	<form class="noScreen">
		
	    <fieldset class="signCheck"id="docCheck" data-role="none" data-iconpos="right" data-theme="a">
	        <legend>Prescribing NNS / RMO:</legend>
			<p></p>
	        <label class="check"><input class="check"id="checkbox-h-6a" type="checkbox" data-role="none"/>Pt. Name</label>
	      	<label class="check"><input class="check"id="checkbox-h-6b" type="checkbox" data-role="none"/>NHI</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Weight</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Gestation at Birth</label>
			<label class="check"><input class="check"id="checkbox-h-6d" type="checkbox" data-role="none"/>Date of Birth</label>
			<label class="check"><input class="check"id="checkbox-h-6e" type="checkbox" data-role="none"/>Matches Prescription</label>
			<p></p>
			<label class="sign"><input class="sign"data-role="none"/></label>
	        <p>NNS / Doctor Sign</p>
	    </fieldset>
		
	    <fieldset class="signCheck"id="nurse1Check" data-role="none" data-iconpos="right" data-theme="a">
	        <legend>Before giving:</legend>
			<p></p>
	        <label class="check"><input class="check"id="checkbox-h-6a" type="checkbox" data-role="none"/>Pt. Name</label>
	      	<label class="check"><input class="check"id="checkbox-h-6b" type="checkbox" data-role="none"/>NHI</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Weight</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Gestation at Birth</label>
			<label class="check"><input class="check"id="checkbox-h-6d" type="checkbox" data-role="none"/>Date of Birth</label>
			<label class="check"><input class="check"id="checkbox-h-6e" type="checkbox" data-role="none"/>Matches Prescription</label>
			<p></p>
			<label class="sign"><input class="sign"data-role="none"/></label>
	        <p>Nurse-1 Sign </p>
	    </fieldset>
		
	    <fieldset class="signCheck"id="nurse2Check" data-role="none" data-iconpos="right" data-theme="a">
	        <legend>Before giving:</legend>
			<p></p>
	        <label class="check"><input class="check"id="checkbox-h-6a" type="checkbox" data-role="none"/>Pt. Name</label>
	      	<label class="check"><input class="check"id="checkbox-h-6b" type="checkbox" data-role="none"/>NHI</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Weight</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Gestation at Birth</label>
			<label class="check"><input class="check"id="checkbox-h-6d" type="checkbox" data-role="none"/>Date of Birth</label>
			<label class="check"><input class="check"id="checkbox-h-6e" type="checkbox" data-role="none"/>Matches Prescription</label>
			<p></p>
			<label class="sign"><input class="sign"data-role="none"/></label>
	        <p>Nurse-2 Sign</p>
	    </fieldset>
		
	</form>	
			
					
	</div><!-- /content -->

	<div data-role="footer" class="noScreen">
		<h4><a href="#" class="noPrint" data-role="button" onClick="dateFunction(); window.print();return false">Print Report</a></h4>
	</div><!-- /footer -->
</div><!-- /page -->

    <!-- Start of #about -->
    <div data-role="dialog" role="dialog" class="ui-dialog" id="about">
        <div data-role="content" data-theme="c" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow"
            role="main">
            
            <h3 style="float: left; margin-top: 8px;">
                <p>
                    <strong>Wellington NICU Gentamicin Calculator </strong><br>
                    Version 1.043<br>
                    <a href="mailto:michael.hewson@ccdhb.org.nz" data-role="button" data-icon="mail">Report a problem...</a>
            </h3>
            <p style="clear: both; font-size: 85%; margin-bottom: 8px;">
                <em>For use only in conjunction with the CCDHB NICU drug monographs!</em></p>
				
					
				
				
            <a href="#stepOne" data-role="button" data-icon="arrow-u" data-theme="a">Close</a>
        </div>
    </div>
    <!-- end #about -->


</body>

</HTML>



<script>
	$.validator.addMethod("regex",function(value,element){
        return this.optional(element) || /^[a-zA-Z]{3}[0-9]{4}/i.test(value); //Ensures 3 letters then 4 numbers
    },"Valid NHI required");
	
	$.validator.addMethod("maxDecimal",function(value,element){
        return this.optional(element) || /^[0-6](?:\.\d{1,3})?$/i.test(value);
    },"max 3 decimal places");


	$("#formInput").validate({
    errorPlacement: function(error, element) {
        error.insertAfter(element.parent()); // <- the default
	},
    rules: {
		surName:{required: true},
		NHI:{required:true, maxlength:7,regex:true},
		weight:{required:true,maxDecimal:true},
		dob:{required:true},
		weeks:{min:22},
    },
    messages: {
		surName: "Name is required",
		NHI:"Valid NHI required",
		weight: "Weight is required: 0.3 - 6 kg",
		weeks: "Required"
		
    }
});

$("#reset").on('click',function(){$("#formInput").validate().resetForm();
});

</script>
	
	
